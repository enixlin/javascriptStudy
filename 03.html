<!DOCTYPE html>
<html lang="en">

<head>
<title></title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- 插入EXTJS 库 -->
<link rel="stylesheet" type="text/css"
	href="./Extjs/theme-triton/resources/theme-triton-all.css" />
<link rel="stylesheet" type="text/css" href="./css.css" />
<script type="text/javascript" src="./Extjs/ext.js"></script>
<script type="text/javascript" src="./Extjs/ext-all.js"></script>
<!--中文本地化支持 -->
<script type="text/javascript"
	src="./Extjs/locale/locale-zh_CN-debug.js"></script>
</head>

<body>
	<div id="myDiv1">
		<p>第一句：床前明月光</p>
		<p>第二句：疑是地上霜</p>
	</div>

	<div id="myDiv2">
		<p>第三句：举头望明月</p>
		<div id="myDiv3">
			<p>第五句：举头望明月</p>
			<p>第六句：低头思故乡</p>
		</div>
		<p>第四句：低头思故乡</p>
	</div>

	<input type="button" name="" id="btn_appendChild" value="appendChild"
		onclick="append()">
	<input type="button" name="" id="btn_removeChild" value="removeChild"
		onclick="remove()">
	<input type="button" name="" id="btn_updateChild" value="updateChild"
		onclick="update()">
</body>

</html>

<script>
	/* dom 的增删改查 */

	// 原生的js元素增删改查
	// 查找标签
	// var div=document.getElementById("myDiv");
	// var p = document.getElementsByTagName("p");
	// alert(div);
	// alert(p[3].innerHTML); //第五句
	// 增加标签
	function append() {
		var di = document.getElementById("myDiv1");
		var p = document.createElement("p");
		p.innerText = "插入句：XXXXXXX";
		p.setAttribute("style", "color:red");
		di.appendChild(p);
	}

	// 删除标签
	function remove() {

		var p_array = document.getElementById("myDiv1").childNodes;
		if (p_array) {
			var p = p_array[p_array.length - 1];
			console.log(p);
			p.parentNode.removeChild(p);

		}

	}

	function update() {
		var di = document.getElementById("myDiv1");
		di.style.color = "blue";
		di.style.background = "yellow";
		// var p_array=di.childNodes;
		// for(var n=0,len=p_array.length;n<len;n++){
		// di.style.color="blue";
		// //console.log(p_array[n].innerHTML);
		// //p_array[n].innerhtml="update";
		// }
	}

	Ext.onReady(function() {
		// var win = Ext.create("Ext.window.Window", {
		// title : "my window",
		// width : 300,
		// height : 400,
		// items : [{
		// xtype : 'textfield',
		// name : 'name',
		// label : 'Name'
		// }, {
		// xtype : 'passwordfield',
		// name : 'password',
		// label : 'Password'
		// }]
		// }).show();

		//		console.log(div1);
		//    	div1.addListener({ 
		//    	"click":function(){alert("click");}
		//    	});

		var div1 = Ext.dom.Element.get("myDiv1");
		var div1 = Ext.dom.Element.fly(div1.dom);
		div1.removeCls("background");
		div1.addClsOnOver("white");

		console.log(div1.dom);
		
		var User=Ext.create('Ext.data.Model',{
		     fields: [ 
		         {name: 'id', type: 'string'},
		         {name: 'name',type: 'string'},
		         {name: 'password',type: 'string'},
		         {name: 'stutus',type: 'string'},
		         ]
		 });
		
		var userStore=Ext.create("Ext.data.Store",{
			//"id":"144","name":"\u8c2d\u9526\u4f20","password":"a","status":"1","oa_name":null,"oa_password":null}]
			model: User,
			//fields:['id','name','password','status'],
			autoLoad:true,
			proxy:{
				url:"http://109.0.25.100/jrrc_web/home/user/getalluser",
				type:"ajax"
			}
		});
		var userTable=Ext.create("Ext.grid.Panel",{
			width : "100%",
			height : 480,
			store:userStore,
			columns:{
				items: [
		         {text: "用户编号", dataIndex: "id",width: 200 },
		         {text: "用户名称", dataIndex: "name",width: 200 },
		         {text: "用户密码", dataIndex: "password",width: 200 },
		     ]}
		});
		var win = Ext.create("Ext.window.Window", {
			title : "my window",
			width : 1000,
			height : 500,
			items : [
				userTable
			]
		}).show();

	});
</script>